---
title: JavaScriptï¼šæ·±å…¥äº†è§£Thisçš„æŒ‡å‘èˆ‡æ‡‰ç”¨
date: 2023-11-28 22:22:45
tags:
  - [this]
  - [Execution Context]
  - [Callback Function]
  - [Binding]
  - [Fundamentals]
categories:
  - [JavaScript]
  - [å‰ç«¯é–‹ç™¼]
description: æ¢ç´¢JavaScript This çš„æŒ‡å‘ï¼šæ·±å…¥å‰–æåˆ¤æ–·çš„æŠ€å·§ã€‚
---

![BlogèƒŒæ™¯åœ–](https://res.cloudinary.com/dseg0uwc9/image/upload/f_auto,q_auto,w_1200,h_675,c_fill/v1767325813/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%B0%88%E7%94%A8/JavaScript_This_ysqhch.jpg)

<strong>ğŸŒŸ JavaScript this æŒ‡å‘è·Ÿèª¿ç”¨æ–¹å¼ç›¸é—œ</strong>

---

## ä¸€å€‹å‡½å¼ä¸­åŒ…å«å¤šå°‘åƒæ•¸

```javascript=
var a = 'å…¨åŸŸ'
function fn(params) {
  console.log(params, this, window, arguments);
}
fn(100, 200, 300)
```

- æ¯å€‹ Function éƒ½æ“æœ‰**params**åŠ**arguments**
  - params(åƒæ•¸)ï¼šåƒæ•¸æ˜¯å‡½å¼å®šç¾©ä¸­æ‰€åˆ—å‡ºçš„è®Šæ•¸
    - 100
  - arguments(å¼•æ•¸)ï¼šå¼•æ•¸æ˜¯ç•¶æˆ‘å€‘å‘¼å«å‡½å¼æ™‚å‚³éçµ¦å®ƒçš„å€¼
    - [100, 200, 300]
    - é€™å€‹æ˜¯é¡é™£åˆ—(Array-like)ï¼šæ„æ€å°±æ˜¯ä»–ä¸æ˜¯çœŸçš„é™£åˆ—ï¼Œæœ‰ä¸€äº›æ–¹æ³•ä»–ä¸¦ç„¡æ³•ä½¿ç”¨ï¼Œé›–ç„¶ä»–å¯ä»¥æŸ¥çœ‹é•·åº¦ï¼Œä»¥åŠè®Šæ›´åƒæ•¸çš„å€¼ï¼Œä½†æ˜¯ä»–ä¸æ˜¯ç´”é™£åˆ—ã€‚
  - this(éš±å«çš„å¼•æ•¸)ï¼šæ ¹æ“šèª¿ç”¨çš„æ–¹å¼æŒ‡å‘çš„ä½ç½®ä¸åŒ(é€™é‚Šæ˜¯å…¨åŸŸè®Šæ•¸ä¹Ÿå°±æ˜¯ window)
- windowï¼šé è¨­çš„å…¨åŸŸè®Šæ•¸ã€‚

---

- æ¥è‘—è®“æˆ‘å€‘ä¾†äº†è§£ä¸åŒæƒ…æ³çš„ this çš„æŒ‡å‘(ä»¥èª¿ç”¨çš„æ–¹å¼ç‚ºä¸»)
- é€™é‚Š this æ˜¯ callSomeone çš„å­©å­ï¼Œæœ¬èº«è‡ªå·±èª¿ç”¨å‡½å¼çš„æƒ…æ³ä¸‹ this æœƒæŒ‡å‘å…¨åŸŸ(window)è®Šæ•¸ï¼Œä¹Ÿå°±æ˜¯å…¨åŸŸè®Šæ•¸çš„ someoneã€‚

```javascript=
var someone = 'å…¨åŸŸ';
function callSomeone() {
  console.log(this.someone);
}
callSomeone();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
å…¨åŸŸ
```

---

### æ¡ˆä¾‹ 1.å‚³çµ±å‡½å¼ this æŒ‡å‘

- ç•¶å‰æ¡ˆä¾‹ this æ˜¯ callSomeone çš„å°å­©ã€‚
- èª¿ç”¨çš„æ–¹å¼æ”¹æˆé€é obj å»èª¿ç”¨é€™å€‹ callSomeï¼Œé€™æ™‚å€™ this æœƒæ”¹æŒ‡å‘å‰é¢çš„é€™å€‹æ€ªå”å”ï¼Œä¹Ÿå°±æ˜¯ objï¼Œæ‰€ä»¥é€™é‚Šçš„ this å·²ç¶“ä¸æ˜¯ windowï¼Œå·²ç¶“æ”¹è®Šæˆ objï¼Œè‡ªç„¶ this.someone å°±æœƒè®Šæˆ obj è£¡é¢çš„ someoneã€‚

```javascript=
var someone = 'æ—è›‹é¬¼'
var obj = {
  someone: 'ç‰©ä»¶',
  callSomeone() {
    console.log(this.someone);
  }
}
obj.callSomeone();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
ç‰©ä»¶
```

---

### æ¡ˆä¾‹ 2.å¼•ç”¨å‚³çµ±å‡½å¼ this æŒ‡å‘(å°å°è®Šå½¢ä¸€ä¸‹)

- é›–ç„¶åŸæœ¬å®šç¾©åœ¨ obj è£¡é¢çš„ function è®Šæˆå¼•ç”¨å¤–é¢çš„ functionï¼Œä½†èª¿ç”¨çš„æ–¹å¼ä¾ç„¶æ˜¯ obj2.callSomeone()ï¼Œå‚³çµ±å‡½å¼çš„æƒ…æ³å¤§å¤šç¬¦åˆé€™ç¨®è¦å‰‡ã€‚

```javascript=
var someone = 'å…¨åŸŸ';
function callSomeone() {
  console.log(this.someone);
}
var obj2 = {
  someone: 'ç‰©ä»¶2',
  callSomeone
}
obj2.callSomeone();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
ç‰©ä»¶2
```

---

### æ¡ˆä¾‹ 3.å¤¾å¸¶å…©å±¤å‡½å¼çš„ this æŒ‡å‘

- é€™é‚Šå¯ä»¥çœ‹åˆ° wrapObj.callSomeone()é€™å€‹æ˜¯ç”± wrapObj èª¿ç”¨ï¼Œå› æ­¤ this æœƒæŒ‡å‘ wrapObj é€™å€‹ç‰©ä»¶ï¼Œè‡ªç„¶å°±æœƒå°‡ this.someone å®šç¾©æˆå¤–å±¤ç‰©ä»¶ã€‚
- è€Œ wrapObj.innerObj.callSomeone()èª¿ç”¨çš„äººæ”¹è®Šæˆ innderObjï¼Œå› æ­¤èª¿ç”¨çš„ this.someone å°‡æœƒå®šç¾©æˆ innerObj è£¡é¢çš„å…§å±¤ç‰©ä»¶ã€‚

```javascript=

var someone = 'æ—è›‹é¬¼';
function callSomeone() {
  console.log(this.someone);
}
var wrapObj = {
  someone: 'å¤–å±¤ç‰©ä»¶',
  callSomeone,
  innerObj: {
    someone: 'å…§å±¤ç‰©ä»¶',
    callSomeone,
  }
}
wrapObj.callSomeone()
wrapObj.innerObj.callSomeone();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
å¤–å±¤ç‰©ä»¶
å…§å±¤ç‰©ä»¶
```

---

### ç‰¹æ®Šæ¡ˆä¾‹ 1.é–“æ¥ä½¿ç”¨ this å‡½å¼

- æˆ‘å€‘ä¾†çœ‹çœ‹ç‰¹åˆ¥ä¸€äº›çš„æ¡ˆä¾‹ï¼Œè¨˜æ¸…æ¥šå‰›å‰›èªªé this åªå–æ±ºæ–¼èª¿ç”¨ä»–çš„äººæ˜¯èª°ï¼ŒcallSomeone å‰é¢ä¸¦æ²’æœ‰äººä½¿ç”¨å®ƒï¼Œå› æ­¤ä»–çš„ this æœƒæŒ‡å‘å…¨åŸŸ(é™·é˜±é¡Œ)ã€‚

```javascript=
var someone = 'æ—è›‹é¬¼';
function callSomeone() {
  console.log(this.someone);
}
var obj3 = {
  someone: 'ç‰©ä»¶ 3',
  fn() {
    callSomeone();
  }
}
obj3.fn();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
æ—è›‹é¬¼
```

---

### ç‰¹æ®Šæ¡ˆä¾‹ 2.setTimeout å›èª¿å‡½å¼

- å¤§éƒ¨åˆ†å‚³çµ±å‡½å¼çš„æƒ…æ³ä¸‹ï¼Œé‡åˆ°å›èª¿å‡½å¼ï¼Œthis æœƒæŒ‡å‘å…¨åŸŸè®Šæ•¸ï¼Œå› æ­¤ this.someone æœƒè®Šæˆæ—è›‹é¬¼ã€‚

```javascript=
var someone = 'æ—è›‹é¬¼';
var obj4 = {
  someone: 'ç‰©ä»¶ 4',
  fn() {
    setTimeout(function () {
      console.log(this.someone);
    });
  }
}
obj4.fn();
```

é¡¯ç¤ºå¦‚ä¸‹ï¼š

```javascript=
æ—è›‹é¬¼
```
